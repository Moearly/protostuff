#labels Featured
= {{{Compiler Via Ant}}} =

#summary using the code generator via ant

={{{Using the compiler via Ant}}}=

Currently there are 2 outputs:
 * java_bean
 * gwt_overlay

=={{{Model.proto}}}==
{{{
package foo;

option optimize_for = LITE_RUNTIME;
option java_package = "com.example.foo.model";
option java_outer_classname = "Model";

message Greet {
  optional int32 id = 1;
  optional string name = 2;
  optional string msg = 3;
  enum Status {
    NEW = 0;
    ACKNOWLEDGED = 1;
  }
  optional Status status = 4;
}
}}}

=={{{modules.properties}}}==
{{{
modules = foo

foo.source = Model.proto
#java_bean, gwt_overlay
foo.output = java_bean
foo.outputDir = generated
foo.encoding = UTF-8
foo.options = key:value,generate_field_map
}}}

=={{{build.xml}}}==

{{{
<project name="foo" basedir=".">

<target name="compileproto">
  <java classname="com.dyuproject.protostuff.compiler.CompilerMain">
    <arg value="modules.properties"/>
    <classpath>
      <pathelement location="protostuff-compiler-1.0-SNAPSHOT-jarjar.jar"/>
    </classpath>
  </java>
</target>

</project>
}}}

Execute:
{{{
$ ant compileproto
}}}